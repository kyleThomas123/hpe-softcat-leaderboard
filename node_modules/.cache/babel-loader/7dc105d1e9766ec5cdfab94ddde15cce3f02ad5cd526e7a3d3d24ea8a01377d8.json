{"ast":null,"code":"var _jsxFileName = \"/Users/kyle/projects/personal/hpe-react-practice/src/components/Header.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { findScrollParent, useForwardedRef } from '../../utils';\nimport { Box } from '../Box';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = /*#__PURE__*/_s( /*#__PURE__*/React.forwardRef(_c = _s(({\n  sticky,\n  ...rest\n}, ref) => {\n  var _theme$header2, _theme$header2$sticky;\n  _s();\n  const theme = useContext(ThemeContext);\n  const headerRef = useForwardedRef(ref);\n  useEffect(() => {\n    let scrollTop = 0;\n    const updateScrollDir = () => {\n      // target is its scroll parent\n      const target = findScrollParent(headerRef.current);\n      const header = headerRef.current;\n      if (target && sticky === 'scrollup') {\n        const nextScrollTop = target === document ? window.pageYOffset : target.scrollTop;\n        if (scrollTop - nextScrollTop <= 0) {\n          header.style.top = `-${header.getBoundingClientRect().height}px`;\n          header.style.zIndex = '';\n        } else if (scrollTop - nextScrollTop > 0) {\n          var _theme$header, _theme$header$sticky;\n          // ensure that header moves with the target\n          header.style.position = 'sticky';\n          header.style.top = '0px';\n          header.style.zIndex = `${(_theme$header = theme.header) === null || _theme$header === void 0 ? void 0 : (_theme$header$sticky = _theme$header.sticky) === null || _theme$header$sticky === void 0 ? void 0 : _theme$header$sticky.zIndex}`;\n          header.style.transition = 'top 0.6s';\n        }\n        scrollTop = nextScrollTop;\n      }\n    };\n    if (sticky === 'scrollup') {\n      updateScrollDir();\n      window.addEventListener('resize', updateScrollDir);\n      window.addEventListener('scroll', updateScrollDir, true);\n    }\n    return () => {\n      if (sticky === 'scrollup') {\n        window.removeEventListener('resize', updateScrollDir);\n        window.removeEventListener('scroll', updateScrollDir, true);\n      }\n    };\n  }, [headerRef, sticky, (_theme$header2 = theme.header) === null || _theme$header2 === void 0 ? void 0 : (_theme$header2$sticky = _theme$header2.sticky) === null || _theme$header2$sticky === void 0 ? void 0 : _theme$header2$sticky.zIndex]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    align: \"center\",\n    as: \"header\",\n    direction: \"row\",\n    flex: false,\n    justify: \"between\",\n    gap: \"medium\",\n    ref: headerRef,\n    ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}, \"CAAPgO7+5G9RgUJtF1JI0Up+SuA=\", false, function () {\n  return [useForwardedRef];\n})), \"CAAPgO7+5G9RgUJtF1JI0Up+SuA=\", false, function () {\n  return [useForwardedRef];\n});\n_c2 = Header;\nHeader.displayName = 'Header';\nexport { Header };\nvar _c, _c2;\n$RefreshReg$(_c, \"Header$React.forwardRef\");\n$RefreshReg$(_c2, \"Header\");","map":{"version":3,"names":["React","useContext","useEffect","ThemeContext","findScrollParent","useForwardedRef","Box","jsxDEV","_jsxDEV","Header","_s","forwardRef","_c","sticky","rest","ref","_theme$header2","_theme$header2$sticky","theme","headerRef","scrollTop","updateScrollDir","target","current","header","nextScrollTop","document","window","pageYOffset","style","top","getBoundingClientRect","height","zIndex","_theme$header","_theme$header$sticky","position","transition","addEventListener","removeEventListener","align","as","direction","flex","justify","gap","fileName","_jsxFileName","lineNumber","columnNumber","_c2","displayName","$RefreshReg$"],"sources":["/Users/kyle/projects/personal/hpe-react-practice/src/components/Header.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { findScrollParent, useForwardedRef } from '../../utils';\nimport { Box } from '../Box';\n\nconst Header = React.forwardRef(({ sticky, ...rest }, ref) => {\n  const theme = useContext(ThemeContext);\n  const headerRef = useForwardedRef(ref);\n  useEffect(() => {\n    let scrollTop = 0;\n    const updateScrollDir = () => {\n      // target is its scroll parent\n      const target = findScrollParent(headerRef.current);\n      const header = headerRef.current;\n\n      if (target && sticky === 'scrollup') {\n        const nextScrollTop =\n          target === document ? window.pageYOffset : target.scrollTop;\n        if (scrollTop - nextScrollTop <= 0) {\n          header.style.top = `-${header.getBoundingClientRect().height}px`;\n          header.style.zIndex = '';\n        } else if (scrollTop - nextScrollTop > 0) {\n          // ensure that header moves with the target\n          header.style.position = 'sticky';\n          header.style.top = '0px';\n          header.style.zIndex = `${theme.header?.sticky?.zIndex}`;\n          header.style.transition = 'top 0.6s';\n        }\n        scrollTop = nextScrollTop;\n      }\n    };\n\n    if (sticky === 'scrollup') {\n      updateScrollDir();\n      window.addEventListener('resize', updateScrollDir);\n      window.addEventListener('scroll', updateScrollDir, true);\n    }\n    return () => {\n      if (sticky === 'scrollup') {\n        window.removeEventListener('resize', updateScrollDir);\n        window.removeEventListener('scroll', updateScrollDir, true);\n      }\n    };\n  }, [headerRef, sticky, theme.header?.sticky?.zIndex]);\n\n  return (\n    <Box\n      align=\"center\"\n      as=\"header\"\n      direction=\"row\"\n      flex={false}\n      justify=\"between\"\n      gap=\"medium\"\n      ref={headerRef}\n      {...rest}\n    />\n  );\n});\n\nHeader.displayName = 'Header';\n\nexport { Header };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}